<!-- deve -se puxar por id de cadastrador -->
<script src="https://apis.google.com/js/platform.js" async defer></script>
<ion-view title="Chat Streaming">
<ion-pane class="messaging-view" ng-controller='chatController'>
    <ion-content class="content-stable"on-swipe-left=" hideTime=false" on-swipe-right="hideTime=true">

      <div ng-repeat="message in messages"
           ng-class="{other: message.userId != myId}"
           class="messages">

        <div class="message" ng-class="{'slide-right': hideTime, '': !hideTime}">
          <span class='b'>{{ message.text }}</span>
        </div>
        <div class="time" ng-class="{'slide-right': hideTime, '': !hideTime}">{{message.time}}</div>
    </ion-content>

    <ion-footer-bar keyboard-attach class="bar-stable item-input-inset">
      <label class="item-input-wrapper">
        <input type="text" required placeholder="Type your message" on-return="sendMessage(); closeKeyboard()" ng-model="newmessage.text" on-focus="inputUp()" on-blur="inputDown()" />
      </label>
      <div class="g-hangout" data-render="createhangout"></div>
      <button class="button button-clear ion-paper-airplane" ng-click="inserisci(newmessage)">
        .
      </button>
    <br>
    <div ng-controller="ModalCtrl">
      <button class="button button-clear ion-mic-c" ng-click="modal.show()">

      </button>
    </div>
    </ion-footer-bar>
  </ion-pane>
</ion-view>

<!--
<ion-view view-title="Chat Room {{ roomName }}">
    <ion-content>
        <ion-list ng-show="roomName">
            <ion-item class="item item-input-inset">
                <label class="item-input-wrapper">
                    <input type="text" ng-model="IM.textMessage" placeholder="Type in your message...">
                </label>
                <button ng-click="sendMessage(IM.textMessage)" class="button button-small button-balanced">
                    Send
                </button>
            </ion-item>
            <ion-item ng-hide="chats" class="textCenter">
                <i class="icon ion-loading-c"></i> Loading Chats
            </ion-item>
            <ion-item ng-if="chats.length == 0" class="textCenter">
                <h4>No messages in this room. Send message to start.</h4>
            </ion-item>
            <ion-item class="" ng-repeat="chat in chats | orderBy:'createdAt':true" type="item-text-wrap">
                <h4>{{chat.from}} :</h4>
                <span am-time-ago="chat.createdAt" class="item-note">
                </span>
                <p>{{chat.message}}</p>
                <ion-option-button class="button-assertive" ng-click="remove(chat)">
                    Delete
                </ion-option-button>
            </ion-item>
        </ion-list>
        <ion-list ng-hide="roomName">
            <ion-item class="textCenter">
                <h4>Please select a room to chat first.</h4>
            </ion-item>
        </ion-list>

    </ion-content>
</ion-view>
-->
